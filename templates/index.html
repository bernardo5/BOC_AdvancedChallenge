{% extends "base.html" %}


{% block body %}
	<div class="all">
		<div id="map" style="height: 250px;"></div>
			<script type="text/javascript">
			  // The first parameter are the coordinates of the center of the map
			  // The second parameter is the zoom level
			  var map = L.map('map').setView([40.712, -74.006], 11);
			  
			  // {s}, {z}, {x} and {y} are placeholders for map tiles
			  // {x} and {y} are the x/y of where you are on the map
			  // {z} is the zoom level
			  // {s} is the subdomain of cartodb
			    var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
			    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'

			  });
			  
			  // Now add the layer onto the map
			  map.addLayer(layer);
			  // It even opens up a popup when you click it!
				L.marker([38.734894, -9.139285]).addTo(map)
				  .bindPopup("<strong>Unbabel</strong>").openPopup();
			</script>
		<div class="tables_wrapper">
			<div class="single_table">
				<h1>Locations</h1>
				<table>
					<tr>
						<td class="table_headers">id</td>
						<td class="table_headers">name</td>
						<td class="table_headers">Description</td>
						<td class="table_headers">Servers</td>
					</tr>
					{% for location in locations %}
					<tr>
						<td>
							<form method="post" action="/detailsLocation">
								<button name="idLocation" type="submit" value="{{location.id}}">Detail</button>
							</form>
						</td>
						<td>{{location.name}}</td>
						<td>{{location.description}}</td>
						<td>
							<ul>
							{% for server in location.servers %}
								<li>{{server.name}}</li>
							{%endfor%}
							</ul>
						</td>
						
					</tr>
					{% endfor %}
				</table>

			</div>
			
			<div class="single_table">
				<h1>Servers</h1>
				<table>
					<tr>
						<td class="table_headers">id</td>
						<td class="table_headers">name</td>
						<td class="table_headers">Description</td>
						<td class="table_headers">Applications</td>
					</tr>
					{% for server in servers %}
					<tr>
						<td>
							<form method="post" action="/detailsServer">
								<button name="idServer" type="submit" value="{{server.id}}">Detail</button>
							</form>
						</td>
						<td>{{server.name}}</td>
						<td>{{server.description}}</td>
						<td>
							<ul>
							{% for app in server.applications %}
								<li>{{app.name}}</li>
							{%endfor%}
							</ul>
						</td>
					</tr>
					{% endfor %}
				</table>
			</div>

			<div class="single_table">
				<h1>Applications</h1>
				<table>
					<tr>
						<td class="table_headers">id</td>
						<td class="table_headers">name</td>
						<td class="table_headers">Description</td>
					</tr>
					{% for application in applications %}
					<tr>
						<td>
							<form method="post" action="/detailsApplication">
								<button name="idApplication" type="submit" value="{{application.id}}">Detail</button>
							</form>
						</td>
						<td>{{application.name}}</td>
						<td>{{application.description}}</td>
					</tr>
					{% endfor %}
				</table>
			</div>	
		</div>
		
	</div>
	
{% endblock %}